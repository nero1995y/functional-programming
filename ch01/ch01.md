# 1장 함수 길들이기

## 1.2.1 함수형 프로그래밍은 선언적

- 함수형 프로그래밍은 큰 틀에서 선언적(declarative) 프로그래밍 패러다임
  - 내부적으로 코드를 어떻게 구현했는지, 데이터는 어떻게 흘러가는지 밝히지 않은 채 연산/작업 표현
- 절차적 명령 프로그래밍 차이점
  - 원하는 작업을 어떻게 하는지 상세하게 서술함
  - 선언적 프로그래밍은 프로그램의 description (서술부) 와 evalution (평가부)를 분리하여 제어, 흐름이나 상태변화를 특정하지 않고도 프로그램 로직이 무엇인지를 표현식으로 나타냅니다→ expression

루프 안쓰는 이유

- 재사용성이 없다
- 루프는 상캐값이 계속 변한다
  - 함수형 프로그래밍은 무상태성 statelessness 와 불변성 immutability을 지향
  - 무상태 코드는 전역 상태를 바꾸거나 혼선을 일으킬 가능성이 단1 % 없다 상태를 두지 않으려면 부수 효과와 상태 변이를 일으키지 않은 순수함를 써야 한다

## 1.2.2 순수함수와 부수 효과

- FP는 순수함수로 구성된 불변 프로그램

  - 순수함수의 특성
    - 주어진 입력에 의존, 숨겨진 값이나 외부 상태와 무관
    - 전역 객체, 레러펀스로 전달된 매개변수를 수정하는 스코프 밖에서 어떠한 변경도 일으키지 않는다
  - 해당하지 않으면 모두 impure (불변) 일반적으로 명령형 프로그래밍에서 변수는(variable) 다른 구문으로 옮겨지면 값이 변한다

  ```
  // 불순한 코드.. 부수효과 발생
  let counter = 0;
  function increment() {
    return ++counter;
  }
  ```

  - 여기서 contur는 implicit 전역변수를 통해 접근 this

- 부수 효과 발생 흔한 상황 !

  - 전역 범위애소 변수, 속성, 자료구조를 변경
  - 함수의 원래 인수 값을 변경
  - 사용자 입력 처리
  - 에외를 일으킨 해당 함수가 붙잡지 않고 catch 그대로 예외던짐
  - 화면 또는 로그파일에 출력
  - HTML 문서, 브라우저 쿠키, DB에 질의

- 학생데이터 관리 애플리케이션을 만들다고 가정해보자 code1-3.js

  - 문제점

    - db를 통해 접근하는데 호출할때 마다 상이한 값이 결과 값이 달라진다

      - 완전 무결성 x

    - elemetId는 전역 변수라 값이 항상 바뀔 수 있음
    - HTML 요소 직접고침, HTML은 전역 공유 자원
    - 전체프로그램의 스텍이 툭 풀리면서 던지는 예외처리

  - 외부 자원 의존도가 높고 유연하지 않고 테스트가 어렵다
  - 순수함수는 서명에 정규 매개변수를 빠짐 없이 명시하므로 코드를 이해하고 사용하기 쉽다.

  - 개선후

    - 재사용 가능한 컴포넌트 3개
    - 잘게 나뉜 함수를 재사용하면 신경 써서 관리할 코드할 코드 크기가 확 줄
    - HTML 객체 분리
    - 커링(currying)

  - 함수가 일관된 반환값을 보장하도록 전체 함수 결과를 예측 가능한 방향으로 유도하면 **참조 투명성**
